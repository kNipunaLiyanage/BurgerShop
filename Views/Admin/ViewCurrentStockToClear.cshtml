
@{
    ViewBag.Title = "ViewCurrentStockToClear";
    Layout = "~/Views/AdminHomeLayout.cshtml";
}
@model List<BurgerShop.Models.StockModel>
<link href="~/Admin/assets/css/loader.css" rel="stylesheet" />
<script src="~/Admin/assets/js/loader.js"></script>
<!-- BEGIN GLOBAL MANDATORY STYLES -->
<link href="https://fonts.googleapis.com/css?family=Nunito:400,600,700" rel="stylesheet">
<link href="~/Admin/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
<link href="~/Admin/assets/css/plugins.css" rel="stylesheet" />
<!-- END GLOBAL MANDATORY STYLES -->
<!-- BEGIN PAGE LEVEL CUSTOM STYLES -->
<link href="~/Admin/plugins/table/datatable/custom_dt_custom.css" rel="stylesheet" />
<link href="~/Admin/plugins/table/datatable/custom_dt_html5.css" rel="stylesheet" />
<link href="~/Admin/plugins/table/datatable/custom_dt_miscellaneous.css" rel="stylesheet" />
<link href="~/Admin/plugins/table/datatable/custom_dt_multiple_tables.css" rel="stylesheet" />
<link href="~/Admin/plugins/table/datatable/datatables.css" rel="stylesheet" />
<link href="~/Admin/plugins/table/datatable/dt-global_style.css" rel="stylesheet" />
<script src="~/Admin/plugins/table/datatable/custom_miscellaneous.js"></script>
<link href="~/Admin/plugins/perfect-scrollbar/perfect-scrollbar.css" rel="stylesheet" />
<script src="~/Admin/plugins/table/datatable/datatables.js"></script>

<div class="main-container" id="container">

    <div class="overlay"></div>
    <div class="search-overlay"></div>

    <!--  BEGIN SIDEBAR  -->
    <div class="sidebar-wrapper sidebar-theme">

        <nav id="sidebar">
            <div class="shadow-bottom"></div>
            <ul class="list-unstyled menu-categories" id="accordionExample">
                <li class="menu">
                    <a href="#dashboard" data-active="true" data-toggle="collapse" aria-expanded="true" class="dropdown-toggle">
                        <div class="">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                            <span>Dashboard</span>
                        </div>

                    </a>

                </li>
                <li class="menu">
                    <a href="#components" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                        <div class="">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-box"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>
                            <span>Item Details</span>
                        </div>
                        <div>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg>
                        </div>
                    </a>
                    <ul class="collapse submenu list-unstyled" id="components" data-parent="#accordionExample">
                        <li>
                            @Html.ActionLink("Add New Item", "AdminAddItem", "ViewCurrentStockToClear", new { @class = "nav-link" })

                        </li>
                        <li>
                            @Html.ActionLink("Add items to stock", "AddItemsTOStock", "ViewCurrentStockToClear", new { @class = "nav-link" })

                        </li>
                        <li>

                            @Html.ActionLink("Current stock", "ViewCurrentStock", "ViewCurrentStockToClear", new { @class = "nav-link" })

                        </li>
                        <li>

                            @Html.ActionLink("Clear today stock", "ViewCurrentStockToClear", "ViewCurrentStockToClear", new { @class = "nav-link" })

                        </li>
                        <li>

                            @Html.ActionLink("Stock History", "ViewStockHistory", "ViewCurrentStockToClear", new { @class = "nav-link" })

                        </li>


                    </ul>
                </li>
                <li class="menu">
                    <a href="#datatables" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                        <div class="">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-layers"><polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline></svg>
                            <span>Order Details</span>
                        </div>
                        <div>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg>
                        </div>
                    </a>
                    <ul class="collapse submenu list-unstyled" id="datatables" data-parent="#accordionExample">
                        <li>

                            @Html.ActionLink("Pending orders", "LoadpendingOrders", "ViewCurrentStockToClear", new { @class = "nav-link" })

                        </li>
                        <li>

                            @Html.ActionLink("Accepted orders", "LoadAcceptOrders", "ViewCurrentStockToClear", new { @class = "nav-link" })

                        </li>
                        <li>

                            @Html.ActionLink("Cancelled orders", "LoadCancelledOrders", "ViewCurrentStockToClear", new { @class = "nav-link" })

                        </li>


                    </ul>
                </li>



                <li class="menu">
                    <a href="#users" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                        <div class="">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-users"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
                            <span>User Details</span>
                        </div>
                        <div>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg>
                        </div>
                    </a>
                    <ul class="collapse submenu list-unstyled" id="users" data-parent="#accordionExample">
                        <li>
                            @Html.ActionLink("All Users", "LoadUser", "ViewCurrentStockToClear", new { @class = "nav-link" })
                        </li>
                        <li>
                            @Html.ActionLink("Removed Users", "LoadUserRemoved", "ViewCurrentStockToClear", new { @class = "nav-link" })
                        </li>
                        <li>
                            @Html.ActionLink("User Report", "LoadUserReport", "ViewCurrentStockToClear", new { @class = "nav-link" })
                        </li>

                    </ul>
                </li>

                <li class="menu">
                    <a href="#pages" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                        <div class="">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>
                            <span>Settings</span>
                        </div>
                        <div>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg>
                        </div>
                    </a>
                    <ul class="collapse submenu list-unstyled" id="pages" data-parent="#accordionExample">
                        <li>
                            @Html.ActionLink("Logout", "ADminLogout", "ViewCurrentStockToClear", new { @class = "nav-link" })
                        </li>


                    </ul>
                </li>





            </ul>


        </nav>

    </div>
    <!--  END SIDEBAR  -->
    <!--  BEGIN CONTENT AREA  -->
    <div id="content" class="main-content">

        <div class="layout-px-spacing">

            <div class="row layout-top-spacing">

                <div class="col-xl-12 col-lg-12 col-sm-12  layout-spacing">
                    <div class="widget-content widget-content-area br-6">
                        <table id="html5-extension" class="table table-hover non-hover" style="width:100%">
                            <thead>
                                <tr>

                                    <th>Item Name</th>
                                    <th>Meal Type</th>
                                    <th>Suitable for</th>
                                    <th>Size</th>
                                    <th>Unit Price</th>
                                    <th>Remaining Qty</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody>

                                @foreach (var doc in Model)
                                {
                                    <tr>
                                        <td id="@string.Concat(doc.Idstock,"itenname")">@doc.Itemname</td>
                                        <td id="@string.Concat(doc.Idstock,"meal")">@doc.Mealtype</td>
                                        <td id="@string.Concat(doc.Idstock,"suitable")">@doc.Mealsuitable</td>
                                        <td id="@string.Concat(doc.Idstock,"sizez")">@doc.Size</td>
                                        <td>@doc.Unitprice</td>
                                        <td id="@string.Concat(doc.Idstock,"addqty")">@doc.Qty</td>
                                        <td><button id="addtostockbtn" class="btn btn-danger" onclick="clearstockz(@doc.Idstock)">Clear Stock</button></td>

                                    </tr>
                                }

                            </tbody>
                        </table>
                    </div>
                </div>

            </div>

        </div>



        <div class="footer-wrapper">
            <div class="footer-section f-section-1">
                <p class="">Copyright © 2021 <a target="_blank" href="">LMN Pvt Ltd</a>, All rights reserved.</p>
            </div>
            <div class="footer-section f-section-2">
                <p class="">Coded with <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-heart"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg></p>
            </div>
        </div>
    </div>
    <!--  END CONTENT AREA  -->

</div>
<script src="~/Admin/assets/js/libs/jquery-3.1.1.min.js"></script>
<script src="~/Admin/bootstrap/js/bootstrap.min.js"></script>
<script src="~/Admin/bootstrap/js/popper.min.js"></script>

<script src="~/Admin/plugins/perfect-scrollbar/perfect-scrollbar.min.js"></script>
<script src="~/Admin/assets/js/app.js"></script>


<script>
    $(document).ready(function () {
        App.init();
    });
</script>
<script src="~/Admin/assets/js/custom.js"></script>
<!-- END GLOBAL MANDATORY SCRIPTS -->
<!-- BEGIN PAGE LEVEL CUSTOM SCRIPTS -->
<script src="~/Admin/assets/js/custom.js"></script>
<script src="~/Admin/plugins/table/datatable/custom_miscellaneous.js"></script>
<script src="~/Admin/plugins/table/datatable/datatables.js"></script>
<link href="~/Admin/plugins/table/datatable/datatables.css" rel="stylesheet" />
<link href="~/Admin/plugins/table/datatable/dt-global_style.css" rel="stylesheet" />
<link href="~/Admin/plugins/table/datatable/custom_dt_custom.css" rel="stylesheet" />
<link href="~/Admin/plugins/table/datatable/custom_dt_html5.css" rel="stylesheet" />
<link href="~/Admin/plugins/table/datatable/custom_dt_miscellaneous.css" rel="stylesheet" />
<link href="~/Admin/plugins/table/datatable/custom_dt_multiple_tables.css" rel="stylesheet" />
<script src="~/Admin/plugins/table/datatable/button-ext/buttons.html5.min.js"></script>
<script src="~/Admin/plugins/table/datatable/button-ext/buttons.print.min.js"></script>
<script src="~/Admin/plugins/table/datatable/button-ext/dataTables.buttons.min.js"></script>
<script src="~/Admin/plugins/table/datatable/button-ext/jszip.min.js"></script>
<!-- NOTE TO Use Copy CSV Excel PDF Print Options You Must Include These Files  -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

<script>

    function clearstockz(zz) {




        var itemname = $('#' + zz + 'itenname').text();
        var mealtype = $('#' + zz + 'meal').text();
        var mealsuitblefor = $('#' + zz + 'suitable').text();
        var sizez = $('#' + zz + 'sizez').text();
        var qty = $('#' + zz + 'addqty').text();
        

            $.post("cleartodaystock",
                {
                    itemname: itemname,
                    mealtype: mealtype,
                    mealsuitblefor: mealsuitblefor,
                    sizez: sizez,
                    qty: qty

                },
                function (data, status) {

                    if (data == "ok") {
                        swal(itemname + " Item cleared from stock...!", {
                            icon: "success",
                        });
                        window.location = "ViewCurrentStockToClear";
                    } else {
                        swal("Error!", "Something went wrong", "error");
                    }

                });


        


    }

</script>

